@* @using FPTBlog.Views.Components.Form;
    @using FPTBlog.Views.Components.Table;
    @using Microsoft.AspNetCore.Html;
    @using FPTBlog.Src.CategoryModule.Entity;


    @{
    ViewData["Title"] = Routers.Category.Title;
    var categories = ViewData["categories"] as List<Category>;


    var tableBuilder = new TableBuilder();

    var rows = new List<IHtmlContent>();

    foreach (var item in categories)
    {
    var badgeStatus = item.Status == CategoryStatus.ACTIVE ? "green" : "red";
    var bagdeContent = item.Status == CategoryStatus.ACTIVE ? "Active" : "Inactive";

    var row = tableBuilder.Row(new IHtmlContent[] {
    tableBuilder.BodyCol(item.CategoryId),
    tableBuilder.BodyCol(item.Name),
    tableBuilder.BodyCol(item.Description),
    tableBuilder.BodyColBadge(bagdeContent,badgeStatus),
    tableBuilder.BodyCol(item.CreateDate),
    tableBuilder.BodyColLink("Edit", $"{Routers.UpdateCategory.Link}?categoryId={item.CategoryId}","indigo"),
    });
    rows.Add(row);
    }

    }


    <div class="flex flex-1 bg-big-stone-500">
    <div class="w-56 p-2 ">
    @await Html.PartialAsync("~/Views/Components/SideDashboard.cshtml")

    </div>
    <div class="flex-1 px-2 py-8 space-y-2 bg-gray-100 border-2 rounded-sm">
    <h1 class="text-4xl font-semibold">Category List</h1>
    <div class="fade-in">
    @tableBuilder.Table(new IHtmlContent[] {
    tableBuilder.TableHead(new IHtmlContent[] {
    tableBuilder.Row(new IHtmlContent[] {
    tableBuilder.HeaderCol("CategoryID"),
    tableBuilder.HeaderCol("Name"),
    tableBuilder.HeaderCol("Description"),
    tableBuilder.HeaderCol("Status"),
    tableBuilder.HeaderCol("Create Date"),
    tableBuilder.HeaderCol(""),
    })
    }),
    tableBuilder.TableBody(rows)
    })
    </div>
    </div>
    </div>

    @section Scripts {

    <script src="~/js/adminCommon.js"></script>
    <script src="~/js/createCategory.js"></script>

    } *@


@* public string CategoryId { set; get; }

    [Required]
    [StringLength(50)]
    public string Name { set; get; }

    [Required]
    [StringLength(500)]
    public string Description { set; get; }

    [Required]
    public CategoryStatus Status { get; set; }

    [Required]
    [StringLength(50)]
    public string CreateDate { set; get; } *@

@using FPTBlog.Src.CategoryModule.Entity;
@{
    ViewData["Title"] = Routers.Category.Title;
    var categories = ViewData["categories"] as List<Category>;
}

@section Styles {


<link rel="stylesheet" href="~/ui/admin/app.css">

}
<div class="flex flex-1 overflow-hidden bg-big-stone-500">
    @await Html.PartialAsync("~/Views/Components/SideDashboard.cshtml")
    <div class="flex-1 content content--dashboard ">
        <div class="mt-5 ">



            <!-- BEGIN: Hoverable Table -->
            <div class="mt-5 intro-y box">
                <div class="flex flex-col items-center p-5 border-b border-gray-200 sm:flex-row">
                    <h2 class="mr-auto text-lg font-medium ">
                        Category
                    </h2>

                </div>
                <div class="p-5" id="hoverable-table">
                    <div class="preview">
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">Category ID
                                        </th>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">
                                            Name</th>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">Description
                                        </th>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">Status
                                        </th>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">CreateDate
                                        </th>
                                        <th class="border border-b-2 dark:border-dark-5 whitespace-nowrap">
                                            Edit
                                        </th>


                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in categories)
                                    {
                                        var link = $"{Routers.UpdateCategory.Link}?categoryId={item.CategoryId}";
                                        <tr class="hover:bg-gray-200">
                                            <td class="border">@item.CategoryId</td>
                                            <td class="border">@item.Name</td>
                                            <td class="border">@item.Description</td>
                                            <td class="border">

                                                @if (item.Status == CategoryStatus.ACTIVE)
                                                {
                                                    <button class="w-32 mb-2 mr-2 btn btn-primary"> <i data-feather="activity"
                                                    class="w-4 h-4 mr-2"></i> Active </button>
                                                }
                                                else
                                                {
                                                    <button class="w-32 mb-2 mr-2 btn btn-danger"> <i data-feather="slash"
                                                    class="w-4 h-4 mr-2"></i> Inactive </button>
                                                }



                                            </td>
                                            <td class="border">@item.CreateDate</td>
                                            <td class="border">
                                                <a href="@link" class="mb-2 mr-1 btn btn-primary"> <i data-feather="edit-2"
                                                    class="w-5 h-5"></i> </a>

                                            </td>
                                        </tr>
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</div>

@section Scripts {

<script src="~/js/adminCommon.js"></script>
<script src="~/ui/admin/app.js"></script>

}