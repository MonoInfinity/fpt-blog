@using FPTBlog.Src.TagModule.Entity
@{
    var listTags = (List<IDictionary<string, object>>)this.ViewData["tags"];
    var total = (int)this.ViewData["total"];

}


<div class="mt-2 overflow-hidden border-b border-gray-200 rounded-lg shadow intro-y">
    <table class="min-w-full divide-y divide-gray-200 ">
        <thead class="bg-tango-100">
            <tr>
                <th scope="col" class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">
                    #
                </th>
                <th scope="col" class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">
                    Name
                </th>
                <th scope="col" class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">
                    Status
                </th>
                <th scope="col" class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">
                    Total of post
                </th>
                <th scope="col" class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">
                    Create Date
                </th>

                <th scope="col" class="relative px-6 py-3">
                    <span class="sr-only">View Post</span>
                </th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200 fade-in ">
            @for (int i = 0; i < listTags.Count; i++)
            {
                var listTagItem = listTags[i];
                var quantity = listTagItem["quantity"];
                var tag = (Tag)listTagItem["tag"];

                var link = $"{RoutersAdmin.PostGetPostByTag.Link}?name={tag.Name}";
                <tr class="duration-200 hover:bg-indigo-100">
                    <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap ">
                        @(i+1)
                    </td>
                    <td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap">
                        @tag.Name
                    </td>

                    <td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap">
                        @await Html.PartialAsync("../../Components/Table/TableStatus.cshtml",tag.Status ==
                    TagStatus.ACTIVE)
                    </td>
                    <td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap">
                        @quantity
                    </td>
                    <td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap">
                        @tag.CreateDate
                    </td>
                    <td class="px-6 py-4 text-sm font-medium text-right whitespace-nowrap">
                        <a href="@link" class="text-indigo-600 hover:text-indigo-900">View Post</a>
                    </td>
                </tr>

            }
        </tbody>
    </table>
    <!-- This example requires Tailwind CSS v2.0+ -->
    @await Html.PartialAsync("../../Components/Pagination/Pagination.cshtml",
    new { PageIndex = (string) this.Context.Request.Query["pageIndex"] ?? "0", PageSize = (string)
    this.Context.Request.Query["pageSize"]?? "12", Total = total })
</div>
