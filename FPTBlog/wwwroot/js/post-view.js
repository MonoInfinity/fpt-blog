(()=>{"use strict";var e={284:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.http=void 0;var o=n(603),a=axios;t.http=a,a.defaults.withCredentials=!0,a.interceptors.request.use(o.requestInterceptor),a.interceptors.response.use(o.responseSuccessInterceptor,o.responseFailedInterceptor)},603:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.responseFailedInterceptor=t.responseSuccessInterceptor=t.handleCommonResponse=t.requestInterceptor=void 0;var o=n(973);function a(){var e=document.getElementById("form-btn"),t=document.getElementById("loading");t&&e&&(e.classList.remove("hidden"),e.classList.add("block"),t.classList.add("hidden"),t.classList.remove("flex"))}t.requestInterceptor=function(e){var t=document.getElementById("form-btn"),n=document.getElementById("loading"),o=document.getElementById("MESSAGEERROR"),a=document.getElementById("ERRORMESSAGEERROR");for(var d in e.data){var i=document.getElementById(d.toUpperCase()+"ERROR");i&&(i.innerHTML="")}return a&&(a.innerHTML=""),o&&(o.innerHTML=""),n&&t&&(t.classList.add("hidden"),n.classList.remove("hidden"),n.classList.add("flex")),e},t.handleCommonResponse=a,t.responseSuccessInterceptor=function(e){var t,n,d,i,r,s;if(a(),null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.details)||void 0===n?void 0:n.message){var l=document.getElementById("MESSAGEERROR");if(l){var c=null===(i=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.details)||void 0===i?void 0:i.message;l.innerHTML=c.slice(0,1).toUpperCase()+c.slice(1,c.length)}document.getElementById("toastify")&&(c=null===(s=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.details)||void 0===s?void 0:s.message,(0,o.toastify)({text:c.slice(0,1).toUpperCase()+c.slice(1,c.length),duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"right",backgroundColor:"#fa983a",stopOnFocus:!0}))}return e},t.responseFailedInterceptor=function(e){var t,n;if(a(),null===(n=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.details){var d=e.response.data.details;for(var i in d){var r=document.getElementById(i.toUpperCase()+"ERROR");if(r&&(r.innerHTML=r.getAttribute("data-label")+" "+d[i]),r&&("errorMessage"===i||"message"===i)){var s=""+d[i];r.innerHTML=s.slice(0,1).toUpperCase()+s.slice(1,s.length),document.getElementById("toastify")&&(0,o.toastify)({text:s.slice(0,1).toUpperCase()+s.slice(1,s.length),duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"right",backgroundColor:"rgb(239, 68, 68)",stopOnFocus:!0})}}}return Promise.reject(e.response)}},312:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routers=t.routerLinks=void 0,t.routerLinks={home:"/",loginForm:"/auth/login"},t.routers={category:{create:"/api/category",update:"/api/category",chart:"/api/category/chart"},post:{create:"/api/post",addNewTagToPost:"/api/post/tag",getTagOfPost:function(e){return"/api/post/tag?postId="+e},save:"/api/post/save",uploadImagePost:"/api/post/image",addCategoryToPost:"/api/post/category",likePost:"/api/post/like",dislikePost:"/api/post/dislike",sendPost:"/api/post/send",approvedPost:"/api/admin/post/approved",deletePost:"/api/post/delete"},user:{changePassword:"/api/user/change-password",update:"/api/user",get:"/api/user",chart:"/api/admin/user/chart",status:"/api/admin/user/status",role:"/api/admin/user/role",follow:"/api/user/follow"},tag:{getAll:"/api/tag/all",clearUnused:"/api/tag/unused",getByName:function(e){return"/api/tag?name="+e}},auth:{login:"/api/auth/login",register:"/api/auth/register"},reward:{create:"/api/reward",update:"/api/reward",getOne:"/api/reward",give:"/api/reward/give",delete:"/api/reward/delete",removeUserReward:"/api/reward/remove"},comment:{create:"/api/comment",getComment:"/api/comment/post",deleteComment:"/api/comment/delete",updateComment:"/api/comment"}}},973:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toastify=void 0,t.toastify=function(e){return Toastify(e).showToast()}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}(()=>{var e=n(284),t=n(312),o=document.getElementById("like-count"),a=document.getElementById("dislike-count"),d=document.getElementById("post-like"),i=document.getElementById("post-dislike"),r=document.getElementById("postId");null==d||d.addEventListener("click",(function(){var n={postId:r.value};e.http.post(t.routers.post.likePost,n).then((function(e){var t,n,d=e.data,i=null!==(t=d.data.like)&&void 0!==t?t:"",r=null!==(n=d.data.dislike)&&void 0!==n?n:"";o&&(o.innerText=i),a&&(a.innerText=r)}))})),null==i||i.addEventListener("click",(function(){var n={postId:r.value};e.http.post(t.routers.post.dislikePost,n).then((function(e){var t,n,d=e.data,i=null!==(t=d.data.like)&&void 0!==t?t:"",r=null!==(n=d.data.dislike)&&void 0!==n?n:"";o&&(o.innerText=i),a&&(a.innerText=r)}))}));var s=document.getElementById("comment-btn");null==s||s.addEventListener("click",(function(){var n=document.getElementById("comment"),o=document.getElementById("postId");e.http.post(t.routers.comment.create,{content:n.value,postId:o.value}).then((function(){l()})).finally((function(){n.value=""}))}));var l=function(){var n=document.getElementById("postId"),o=document.getElementById("comment-wrapper"),a=t.routers.comment.getComment+"?postId="+n.value;e.http.get(t.routers.user.get).then((function(t){var n=t.data;e.http.get(a).then((function(e){var t=e.data;o.innerHTML="",t.data.map((function(e){var t=p(e.oriComment,n.data),a=document.createElement("div");a.classList.add("pl-4","ml-4","border-l-2","border-tango-300"),e.subComments.map((function(e){a.appendChild(p(e,n.data))})),t.appendChild(a),o.appendChild(t)}))}))}))};l();var c=function(e,t){var n=document.createElement("textarea");n.classList.add("flex-1","border-none","outline-none","resize-none","focus:ring-transparent"),n.value=e;var o=document.createElement("div"),a=document.createElement("button");a.classList.add("p-2","font-semibold","text-tango-500"),a.innerText="Send",a.addEventListener("click",(function(){t(n.value)})),o.appendChild(a);var d=document.createElement("div");d.classList.add("flex","py-2","border-b","border-tango-300","fade-in");var i=document.createElement("button");return i.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z" fill="#111827"></path>\n                                </svg>',i.addEventListener("click",(function(){d.remove()})),d.appendChild(i),d.appendChild(n),d.appendChild(o),d},p=function(n,o){var a=document.createElement("div");a.classList.add("space-y-4");var d=document.createElement("div");if(o.userId===n.user.userId){var i=document.createElement("button");i.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z" fill="#111827"></path>\n                                    </svg>',i.addEventListener("click",(function(){confirm("Do you want to delete this comment")&&e.http.put(t.routers.comment.deleteComment,{commentId:n.commentId}).then((function(){l()}))})),d.appendChild(i)}var s=document.createElement("button");s.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M7.48047 18.35L10.5805 20.75C10.9805 21.15 11.8805 21.35 12.4805 21.35H16.2805C17.4805 21.35 18.7805 20.45 19.0805 19.25L21.4805 11.95C21.9805 10.55 21.0805 9.34997 19.5805 9.34997H15.5805C14.9805 9.34997 14.4805 8.84997 14.5805 8.14997L15.0805 4.94997C15.2805 4.04997 14.6805 3.04997 13.7805 2.74997C12.9805 2.44997 11.9805 2.84997 11.5805 3.44997L7.48047 9.54997" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10"></path>\n                              <path d="M2.37988 18.3499V8.5499C2.37988 7.1499 2.97988 6.6499 4.37988 6.6499H5.37988C6.77988 6.6499 7.37988 7.1499 7.37988 8.5499V18.3499C7.37988 19.7499 6.77988 20.2499 5.37988 20.2499H4.37988C2.97988 20.2499 2.37988 19.7499 2.37988 18.3499Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n                              </path>\n                         </svg>';var p=document.createElement("span");p.classList.add("text-lg","font-medium","opacity-60","fade-in"),p.innerText=String(n.like);var u=document.createElement("button");u.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                 <path d="M16.5197 5.6499L13.4197 3.2499C13.0197 2.8499 12.1197 2.6499 11.5197 2.6499H7.71973C6.51973 2.6499 5.21973 3.5499 4.91973 4.7499L2.51973 12.0499C2.01973 13.4499 2.91973 14.6499 4.41973 14.6499H8.41973C9.01973 14.6499 9.51973 15.1499 9.41973 15.8499L8.91973 19.0499C8.71973 19.9499 9.31973 20.9499 10.2197 21.2499C11.0197 21.5499 12.0197 21.1499 12.4197 20.5499L16.5197 14.4499" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10"></path>\n                                 <path d="M21.6201 5.65V15.45C21.6201 16.85 21.0201 17.35 19.6201 17.35H18.6201C17.2201 17.35 16.6201 16.85 16.6201 15.45V5.65C16.6201 4.25 17.2201 3.75 18.6201 3.75H19.6201C21.0201 3.75 21.6201 4.25 21.6201 5.65Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n                                 </path>\n                             </svg>';var m=document.createElement("span");m.classList.add("text-lg","font-medium","opacity-60","fade-in"),m.innerText=String(n.dislike),d.classList.add("flex","items-center","space-x-2"),d.appendChild(s),d.appendChild(p),d.appendChild(u),d.appendChild(m);var v='\n                     <div class="flex items-center space-x-2">\n                            <div class="w-12 h-12 overflow-hidden rounded-full">\n                                <img src="'+n.user.avatarUrl+'" data-src="'+n.user.avatarUrl+'" alt="'+n.user.name+'" class="object-cover w-full h-full lazy">\n                            </div>\n                            <div>\n                                <a class="font-semibold" href="/user/profile?userId='+n.user.userId+'">'+n.user.name+'</a>\n                                <p class="text-xs font-medium opacity-70">'+n.createDate+"</p>\n                            </div>\n                        </div>",g=document.createElement("div");if(g.classList.add("flex","justify-end"),o.userId!==n.user.userId){var h=document.createElement("button");h.classList.add("font-semibold","p-2"),h.innerText="Reply",h.addEventListener("click",(function(){var o=c("",(function(o){e.http.post(t.routers.comment.create,{content:o,postId:r.value,oriCommentId:n.oriCommentId?n.oriCommentId:n.commentId}).then((function(){l()}))}));f.appendChild(o)})),g.appendChild(h)}var f=document.createElement("div");if(f.innerText=n.content,o.userId===n.user.userId){var C=document.createElement("button");C.classList.add("font-semibold","p-2"),C.innerText="Edit",C.addEventListener("click",(function(){var o=c(n.content,(function(o){e.http.put(t.routers.comment.updateComment,{commentId:n.commentId,content:o}).then((function(){l()}))}));f.appendChild(o)})),g.appendChild(C)}var L=document.createElement("div");L.appendChild(f),L.appendChild(g);var E=document.createElement("div");return E.classList.add("flex","items-center","justify-between"),E.innerHTML=v,E.appendChild(d),a.appendChild(E),a.appendChild(L),a}})()})();